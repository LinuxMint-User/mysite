<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>主页</title>
	<base href="/mysite/">
	<link rel="icon" type="image/ico" href="icons/favicon.ico">
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/global-styles.css">
	<link rel="stylesheet" href="css/index-styles.css">
	<link rel="stylesheet" type="text/css" href="css/sourceCode/prism-1.29.0.css">
	<link rel="stylesheet" href="css/widgets/binclk.css">
	<script src="js/markdown/marked.min.js"></script>
	<script src="js/widgets/binclk.js"></script>
	<script src="js/resolvers/changeLogs-resolver.js" defer></script>
	<script src="js/sourceCode/prism-1.29.0.js" defer></script>
	<script src="js/index-script.js" defer></script>
	<script src="js/updateCopyright.js" defer></script>
	<style>
		body {
			overflow: auto;
		}

		/* 滚动条整体样式 */
		::-webkit-scrollbar {
			width: 8px;
			height: 8px;
			/* 滚动条的宽度与高度 */
		}

		/* 滚动条轨道样式 */
		::-webkit-scrollbar-track {
			background: #5555557b;
			/* 滚动条轨道的背景颜色 */
			border-radius: 3px;
			/* 滚动条轨道的圆角 */
		}

		/* 滚动条滑块样式 */
		::-webkit-scrollbar-thumb {
			background: #555;
			/* 滚动条滑块的颜色 */
			border-radius: 3px;
			/* 滚动条滑块的圆角 */
		}

		/* 鼠标悬停在滚动条滑块上时的样式 */
		::-webkit-scrollbar-thumb:hover {
			background: #424242;
			/* 鼠标悬停时的颜色 */
		}

		#nav-container {
			opacity: 0;
			/* 初始状态透明 */
			transition: opacity 0.5s ease;
			/* 平滑过渡 */
		}

		#nav-container.loaded {
			opacity: 1;
			/* 加载完成后显示 */
		}

		.nav-item {
			display: block;
			margin: 10px 0;
			padding: 10px;
			background-color: #333;
			color: wheat;
			text-decoration: none;
			border-radius: 5px;
			transition: background-color 0.3s ease;
			/* 按钮交互效果 */
		}

		.nav-item:hover {
			background-color: #555;
		}
	</style>
</head>

<body>
	<header class="header">
		<div class="dot-matrix" id="clock" style="flex: 1; margin-right: 20px;">
			<div id="dot-hr1-3" class="dot"></div>
			<div id="dot-hr0-3" class="dot"></div>
			<div id="dot-min1-3" class="dot"></div>
			<div id="dot-min0-3" class="dot"></div>
			<div id="dot-sec1-3" class="dot"></div>
			<div id="dot-sec0-3" class="dot"></div>

			<div id="dot-hr1-2" class="dot"></div>
			<div id="dot-hr0-2" class="dot"></div>
			<div id="dot-min1-2" class="dot"></div>
			<div id="dot-min0-2" class="dot"></div>
			<div id="dot-sec1-2" class="dot"></div>
			<div id="dot-sec0-2" class="dot"></div>

			<div id="dot-hr1-1" class="dot"></div>
			<div id="dot-hr0-1" class="dot"></div>
			<div id="dot-min1-1" class="dot"></div>
			<div id="dot-min0-1" class="dot"></div>
			<div id="dot-sec1-1" class="dot"></div>
			<div id="dot-sec0-1" class="dot"></div>

			<div id="dot-hr1-0" class="dot"></div>
			<div id="dot-hr0-0" class="dot"></div>
			<div id="dot-min1-0" class="dot"></div>
			<div id="dot-min0-0" class="dot"></div>
			<div id="dot-sec1-0" class="dot"></div>
			<div id="dot-sec0-0" class="dot"></div>
		</div>
		<h1 style="flex: 9;">主页</h1>
	</header>

	<div class="container" style="display: flex; flex-direction: column; color: wheat;">
		<p>导航</p>
		<div id="nav-container" class="container"
			style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin: 5px; padding: 6px;">
			<!-- 动态内容将在这里显示 -->
		</div>
	</div>

	<div class="container" style="color: wheat; min-height: auto;">
		<h3>变更计划</h3>
		<div id="pre-container-1" class="container">
			<pre id="pre-1"
				style="max-height: 40vh; border-radius: 5px; scroll-behavior: smooth;"><code id="changePlans" class="language-none" style="white-space: pre-wrap;">ChangePlans is loading...</code></pre>
		</div>
	</div>

	<div class="container" style="color: wheat; min-height: auto;">
		<h3>变更日志</h3>
		<div class="container">
			<div id="button-list-0" class="button-list">
				<button type="button" date="1970.01.01">----.--.--</button>

			</div>
		</div>
		<div id="pre-container-0" class="container">
			<pre id="pre-0"
				style="max-height: 40vh; border-radius: 5px; scroll-behavior: smooth;"><code id="changeLogs" class="language-none" style="white-space: pre-wrap;">ChangeLogs is loading...</code></pre>
		</div>
	</div>

	<footer>
		<p id="copyright">&copy; <span id="currentYearinCopyright">2024</span> Eric Chan</p>
	</footer>

	<script>
		function loadTopLevelCategories() {
			const navContainer = document.getElementById('nav-container');
			navContainer.innerHTML = `
        <a href="#" class="nav-item" data-type="category" data-target="games">游戏</a>
        <a href="#" class="nav-item" data-type="category" data-target="tools">工具</a>
    `;
			navContainer.classList.add('loaded'); // 触发动画
		}

		document.addEventListener('DOMContentLoaded', loadTopLevelCategories);

		document.getElementById('nav-container').addEventListener('click', (event) => {
			const target = event.target;
			if (target.classList.contains('nav-item')) {
				event.preventDefault();
				const itemType = target.getAttribute('data-type');
				const targetId = target.getAttribute('data-target');

				if (itemType === 'category') {
					// 如果是分类，加载子分类或内容
					loadCategoryContent(targetId);
				} else if (itemType === 'content') {
					// 如果是内容，直接跳转
					window.location.href = target.getAttribute('href');
				}
			}
		});

		function loadCategoryContent(categoryId) {
			const navContainer = document.getElementById('nav-container');
			navContainer.classList.remove('loaded'); // 先移除loaded类，让内容隐藏
			setTimeout(() => { // 等待动画完成
				switch (categoryId) {
					case 'games':
						navContainer.innerHTML = `
                    <a class="nav-item" data-type="content" href="Subpages/Games/2048-remastered.html?from=index">2048 游戏</a>
                    <a class="nav-item" data-type="content" href="Subpages/Games/snake-Game.html?from=index">贪吃蛇 游戏</a>
                    <a href="#" class="nav-item" data-type="category" data-target="top">返回上级</a>
                `;
						break;
					case 'tools':
						navContainer.innerHTML = `
                    <a class="nav-item" data-type="content" href="Subpages/Tools/Editors/markdownEditor.html?from=index">Markdown 编辑器</a>
                    <a class="nav-item" data-type="content" href="Subpages/Tools/Editors/JSEditor.html?from=index">JavaScript 编辑器</a>
                    <a href="#" class="nav-item" data-type="category" data-target="top">返回上级</a>
                `;
						break;
					case 'top':
						loadTopLevelCategories(); // 返回顶级分类
						break;
				}
				navContainer.classList.add('loaded'); // 再次添加loaded类，触发动画
			}, 210); // 等待动画完成
		}
	</script>
</body>

</html>